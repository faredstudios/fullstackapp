{"ast":null,"code":"\"use strict\";\n\nvar _a, _b;\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RedeemBid = exports.RedeemUnusedWinningConfigItemsAsAuctioneerArgs = exports.ProxyCallAddress = exports.RedeemBidArgs = void 0;\n\nconst mpl_core_1 = require(\"@metaplex-foundation/mpl-core\");\n\nconst spl_token_1 = require(\"@solana/spl-token\");\n\nconst web3_js_1 = require(\"@solana/web3.js\");\n\nconst mpl_token_metadata_1 = require(\"@metaplex-foundation/mpl-token-metadata\");\n\nconst mpl_token_vault_1 = require(\"@metaplex-foundation/mpl-token-vault\");\n\nconst MetaplexProgram_1 = require(\"../MetaplexProgram\");\n\nclass RedeemBidArgs extends mpl_core_1.Borsh.Data {\n  constructor() {\n    super(...arguments);\n    this.instruction = 2;\n  }\n\n}\n\nexports.RedeemBidArgs = RedeemBidArgs;\n_a = RedeemBidArgs;\nRedeemBidArgs.SCHEMA = _a.struct([['instruction', 'u8']]);\nvar ProxyCallAddress;\n\n(function (ProxyCallAddress) {\n  ProxyCallAddress[ProxyCallAddress[\"RedeemBid\"] = 0] = \"RedeemBid\";\n  ProxyCallAddress[ProxyCallAddress[\"RedeemFullRightsTransferBid\"] = 1] = \"RedeemFullRightsTransferBid\";\n})(ProxyCallAddress = exports.ProxyCallAddress || (exports.ProxyCallAddress = {}));\n\nclass RedeemUnusedWinningConfigItemsAsAuctioneerArgs extends mpl_core_1.Borsh.Data {\n  constructor() {\n    super(...arguments);\n    this.instruction = 12;\n  }\n\n}\n\nexports.RedeemUnusedWinningConfigItemsAsAuctioneerArgs = RedeemUnusedWinningConfigItemsAsAuctioneerArgs;\n_b = RedeemUnusedWinningConfigItemsAsAuctioneerArgs;\nRedeemUnusedWinningConfigItemsAsAuctioneerArgs.SCHEMA = _b.struct([['instruction', 'u8'], ['winningConfigItemIndex', 'u8'], ['proxyCall', 'u8']]);\n\nclass RedeemBid extends mpl_core_1.Transaction {\n  constructor(options, params) {\n    super(options);\n    const {\n      feePayer\n    } = options;\n    const {\n      store,\n      vault,\n      auction,\n      auctionExtended,\n      auctionManager,\n      bidRedemption,\n      bidderMeta: bidMetadata,\n      safetyDepositTokenStore,\n      destination,\n      safetyDeposit,\n      fractionMint,\n      bidder,\n      isPrintingType,\n      safetyDepositConfig,\n      transferAuthority,\n      masterEdition,\n      reservationList,\n      auctioneerReclaimIndex\n    } = params;\n    const data = auctioneerReclaimIndex ? RedeemUnusedWinningConfigItemsAsAuctioneerArgs.serialize({\n      winningConfigItemIndex: auctioneerReclaimIndex,\n      proxyCall: ProxyCallAddress.RedeemBid\n    }) : RedeemBidArgs.serialize();\n    this.add(new web3_js_1.TransactionInstruction({\n      keys: [{\n        pubkey: auctionManager,\n        isSigner: false,\n        isWritable: true\n      }, {\n        pubkey: safetyDepositTokenStore,\n        isSigner: false,\n        isWritable: true\n      }, {\n        pubkey: destination,\n        isSigner: false,\n        isWritable: true\n      }, {\n        pubkey: bidRedemption,\n        isSigner: false,\n        isWritable: true\n      }, {\n        pubkey: safetyDeposit,\n        isSigner: false,\n        isWritable: true\n      }, {\n        pubkey: vault,\n        isSigner: false,\n        isWritable: true\n      }, {\n        pubkey: fractionMint,\n        isSigner: false,\n        isWritable: true\n      }, {\n        pubkey: auction,\n        isSigner: false,\n        isWritable: false\n      }, {\n        pubkey: bidMetadata,\n        isSigner: false,\n        isWritable: false\n      }, {\n        pubkey: bidder,\n        isSigner: false,\n        isWritable: false\n      }, {\n        pubkey: feePayer,\n        isSigner: true,\n        isWritable: false\n      }, {\n        pubkey: spl_token_1.TOKEN_PROGRAM_ID,\n        isSigner: false,\n        isWritable: false\n      }, {\n        pubkey: mpl_token_vault_1.VaultProgram.PUBKEY,\n        isSigner: false,\n        isWritable: false\n      }, {\n        pubkey: mpl_token_metadata_1.MetadataProgram.PUBKEY,\n        isSigner: false,\n        isWritable: false\n      }, {\n        pubkey: store,\n        isSigner: false,\n        isWritable: false\n      }, {\n        pubkey: web3_js_1.SystemProgram.programId,\n        isSigner: false,\n        isWritable: false\n      }, {\n        pubkey: web3_js_1.SYSVAR_RENT_PUBKEY,\n        isSigner: false,\n        isWritable: false\n      }, {\n        pubkey: transferAuthority,\n        isSigner: false,\n        isWritable: false\n      }, {\n        pubkey: safetyDepositConfig,\n        isSigner: false,\n        isWritable: false\n      }, {\n        pubkey: auctionExtended,\n        isSigner: false,\n        isWritable: false\n      }, ...(isPrintingType && masterEdition && reservationList ? [{\n        pubkey: masterEdition,\n        isSigner: false,\n        isWritable: true\n      }, {\n        pubkey: reservationList,\n        isSigner: false,\n        isWritable: true\n      }] : [])],\n      programId: MetaplexProgram_1.MetaplexProgram.PUBKEY,\n      data\n    }));\n  }\n\n}\n\nexports.RedeemBid = RedeemBid;","map":{"version":3,"mappings":"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","names":["RedeemBidArgs","mpl_core_1","Data","constructor","exports","_a","struct","ProxyCallAddress","RedeemUnusedWinningConfigItemsAsAuctioneerArgs","_b","RedeemBid","options","params","feePayer","store","vault","auction","auctionExtended","auctionManager","bidRedemption","bidderMeta","bidMetadata","safetyDepositTokenStore","destination","safetyDeposit","fractionMint","bidder","isPrintingType","safetyDepositConfig","transferAuthority","masterEdition","reservationList","auctioneerReclaimIndex","data","serialize","winningConfigItemIndex","proxyCall","add","web3_js_1","keys","pubkey","isSigner","isWritable","spl_token_1","mpl_token_vault_1","PUBKEY","mpl_token_metadata_1","programId","MetaplexProgram_1"],"sources":["../../../src/transactions/RedeemBid.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}